<div class="editor-container">
  <h1 class="note-title text-center">{{title}}</h1>
  <div *ngIf="!isSharedMode" class="action-buttons text-right">
    <button *ngIf="isReadOnly" class="action-button" (click)="editNote()">Edit</button>
    <button *ngIf="!isReadOnly" class="action-button primary" (click)="saveNote()">Save</button>
    <button class="action-button share" *ngIf="!data.isShared"(click)="shareNote()">Share</button>
     <span *ngIf="data.isShared">Shared</span>
  </div>
  <div id="editorjs" class="editor"></div>
</div>

<!-- ───────── Caption-popup overlay ───────── -->
<div
  class="caption-popup__overlay"
  *ngIf="isCaptionPopupVisible"
  (click)="closeCaptionPopup($event)"
>
  <div class="caption-popup__card" (click)="$event.stopPropagation()">

    <h2 class="caption-popup__title">{{ title }}</h2>
    <textarea
      class="caption-popup__textarea"
      placeholder="Write a caption…"
      [(ngModel)]="caption"
      rows="4"
    ></textarea>

    <div class="caption-popup__actions">
      <button class="action-button primary" (click)="postNote()">Post</button>
      <button class="action-button" (click)="closeCaptionPopup()">Cancel</button>
    </div>

  </div>
</div>